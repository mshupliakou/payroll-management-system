<!--MY SALARY-->

<div th:fragment="managementMySalary" class="management-flex-container">
    <div id="MySalary" class="tabcontent">
        <div class="management-content">
            <h2 id="section-payment-history-full">Historia wszystkich wypłat</h2>
            <table id="MyPaymentsTable" class="table-block display" style="width:100%">
                <thead>
                <tr>
                    <th>Data</th>
                    <th>Typ</th>
                    <th>Kwota</th>
                    <th>Opis</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="pay : ${paymentHistoryListForMe}">
                    <td th:text="${pay.date}"></td>
                    <td th:text="${pay.paymentType.name}"></td>
                    <td th:text="${pay.amount} + ' PLN'" style="font-weight: bold;"></td>
                    <td th:text="${pay.description}"></td>
                    <td>
                        <span th:text="${pay.paymentStatus.name}"
                              th:style="${pay.paymentStatus.name == 'Zatwierdzone' ? 'color:green' : (pay.paymentStatus.name == 'Oczekuje' ? 'color:orange' : '')}">
                        </span>
                    </td>
                </tr>
                </tbody>
            </table>

            <br><br>
            <div class="divider"></div>

            <h2 id="section-salary-report">Stawka Godzinowa</h2>
            <table id="mySalaryTable" class="table-block display" style="width:100%">
                <thead>
                <tr>
                    <th>Imię</th>
                    <th>Nazwisko</th>
                    <th>Dział</th>
                    <th>Stanowisko</th>
                    <th>Email</th>
                    <th>Stawka (PLN/h)</th>
                </tr>
                </thead>
                <tbody>
                    <td th:text="${user.name}"></td>
                    <td th:text="${user.lastname}"></td>
                    <td th:text="${user.department != null ? user.department.name : 'Brak działu'}"></td>
                    <td th:text="${user.position != null ? user.position.name : 'Brak stanowiska'}"></td>
                    <td th:text="${user.email}"></td>
                    <td th:text="${user.salary_pln_h} + ' PLN'" style="font-weight: bold; color: #2c3e50;"></td>
                </tr>
                </tbody>
            </table>

            <br><br>
        </div>
    </div>
</div>